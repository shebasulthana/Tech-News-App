{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/P.R.Sheba sulthana/Downloads/TechLens/News-App/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/P.R.Sheba sulthana/Downloads/TechLens/News-App/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/P.R.Sheba sulthana/Downloads/TechLens/News-App/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function NewsCard(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSaved=_useState2[0],setIsSaved=_useState2[1];// Check if the article is already saved when the component mounts\nuseEffect(function(){if(props.savedArticles&&props.savedArticles.some(function(article){return article.url===props.url;})){setIsSaved(true);// If the article is in the savedArticles list, mark it as saved\n}},[props.savedArticles,props.url]);// Dependencies: check when savedArticles or url changes\nvar handleSaveArticle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/save-article',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({title:props.title,url:props.url,urlToImage:props.urlToImage,description:props.description,publishedAt:props.publishedAt})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(response.status===201){alert(data.message);// Article saved\nsetIsSaved(true);// Update state to indicate the article has been saved\n}else{alert(data.message);// Error message\n}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error('Error saving article:',_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function handleSaveArticle(){return _ref.apply(this,arguments);};}();var handleClick=function handleClick(){window.open(props.url,'_blank','noopener,noreferrer');};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"article-card\",onClick:handleClick,children:[/*#__PURE__*/_jsx(\"img\",{src:props.urlToImage,className:\"article-img\",alt:props.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-content\",children:[/*#__PURE__*/_jsx(\"h5\",{children:props.title}),/*#__PURE__*/_jsx(\"p\",{children:props.description}),/*#__PURE__*/_jsx(\"a\",{href:props.url,target:\"_blank\",rel:\"noopener noreferrer\",children:\" \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-bookmark save-icon \".concat(isSaved?'saved':''),E:true,onClick:handleSaveArticle,style:{cursor:'pointer',fontSize:'24px',color:isSaved?'yellow':'black'}// Change color based on saved state\n})]})]})});}export default NewsCard;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NewsCard","props","_useState","_useState2","_slicedToArray","isSaved","setIsSaved","savedArticles","some","article","url","handleSaveArticle","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","title","urlToImage","description","publishedAt","sent","json","status","alert","message","t0","console","error","stop","apply","arguments","handleClick","window","open","children","className","onClick","src","alt","href","target","rel","concat","E","style","cursor","fontSize","color"],"sources":["C:/Users/P.R.Sheba sulthana/Downloads/TechLens/News-App/client/src/components/NewsCard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../App.css';\r\n\r\nfunction NewsCard(props) {\r\n\r\n  const [isSaved, setIsSaved] = useState(false);\r\n\r\n  // Check if the article is already saved when the component mounts\r\n  useEffect(() => {\r\n    if (props.savedArticles && props.savedArticles.some(article => article.url === props.url)) {\r\n      setIsSaved(true); // If the article is in the savedArticles list, mark it as saved\r\n    }\r\n  }, [props.savedArticles, props.url]); // Dependencies: check when savedArticles or url changes\r\n\r\n  const handleSaveArticle = async () => {\r\n    try {\r\n      const response = await fetch('/save-article', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          title: props.title,\r\n          url: props.url,\r\n          urlToImage: props.urlToImage,\r\n          description: props.description,\r\n          publishedAt: props.publishedAt\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (response.status === 201) {\r\n        alert(data.message); // Article saved\r\n        setIsSaved(true); // Update state to indicate the article has been saved\r\n      } else {\r\n        alert(data.message); // Error message\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving article:', error);\r\n    }\r\n  };\r\n\r\n  const handleClick = () => {\r\n    window.open(props.url, '_blank', 'noopener,noreferrer');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* <div className=\"card dev-card my-3\" alt=\"\">\r\n        <img src={props.urlToImage} className=\"card-img-top\" alt=\"\"/>\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{props.title}</h5>\r\n            <p className=\"card-text\">{props.description}</p>\r\n            <a href={props.url} className=\"readmore\">Read More</a>\r\n          </div>\r\n      </div> */}\r\n\r\n      {/* <div className=\"article-card\" onClick={handleClick}>\r\n      <img src={props.urlToImage} className=\"article-img\" alt={props.title} />\r\n      <div className=\"article-content\">\r\n        <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\" onClick={(e) => e.stopPropagation()}>\r\n          <h5>{props.title}</h5>\r\n        </a>\r\n        <p>{props.description}</p>\r\n        <button onClick={handleSaveArticle}>Save </button>\r\n        <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"readmore-link\" onClick={(e) => e.stopPropagation()}>\r\n        </a>\r\n      </div>\r\n    </div> */}\r\n\r\n<div className=\"article-card\" onClick={handleClick}>\r\n      <img src={props.urlToImage} className=\"article-img\" alt={props.title} />\r\n      <div className=\"article-content\">\r\n        <h5>{props.title}</h5>\r\n        <p>{props.description}</p>\r\n        <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\"> </a>\r\n        <i\r\n          className={`fas fa-bookmark save-icon ${isSaved ? 'saved' : ''}`}E\r\n          onClick={handleSaveArticle}\r\n          style={{ cursor: 'pointer', fontSize: '24px', color: isSaved ? 'yellow' : 'black' }} // Change color based on saved state\r\n        ></i>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nexport default NewsCard"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}