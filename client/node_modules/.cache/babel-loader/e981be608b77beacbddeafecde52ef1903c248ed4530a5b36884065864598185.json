{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/P.R.Sheba sulthana/Downloads/TechLens/News-App/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/P.R.Sheba sulthana/Downloads/TechLens/News-App/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/P.R.Sheba sulthana/Downloads/TechLens/News-App/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import NewsCard from'./NewsCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function News(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setArticles=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setsearch=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),query=_useState6[0],setquery=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setloading=_useState8[1];var handleSearch=function handleSearch(e){search=e.target.value;setsearch(search);};var searchQuery=function searchQuery(e){e.preventDefault();query=search;setquery(query);};useEffect(function(){var getNews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=\"https://newsapi.org/v2/everything?q=\".concat(query||props.category,\"&apiKey=330e87d7b7a04229acbf2a4de862c4e0\");_context.prev=1;setloading(true);_context.next=5;return fetch(url);case 5:response=_context.sent;_context.next=8;return response.json();case 8:data=_context.sent;setArticles(data.articles);setloading(false);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 16:case\"end\":return _context.stop();}},_callee,null,[[1,13]]);}));return function getNews(){return _ref.apply(this,arguments);};}();getNews();},[query,props.category]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"news-title text-center mt-4\",children:\"Top Stories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container my-3\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"d-flex\",role:\"search\",onSubmit:searchQuery,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control me-2\",type:\"search\",placeholder:\"Search latest topics\",\"aria-label\":\"Search\",value:search,onChange:handleSearch}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success\",type:\"submit\",children:\"Search\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid mt-5 flex-wrap d-flex justify-content-evenly\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}):articles.map(function(article,index){return/*#__PURE__*/_jsx(NewsCard,{title:article.title,urlToImage:article.urlToImage,url:article.url,description:article.description},index);})})]});}export default News;","map":{"version":3,"names":["React","useEffect","useState","NewsCard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","News","props","_useState","_useState2","_slicedToArray","articles","setArticles","_useState3","_useState4","search","setsearch","_useState5","_useState6","query","setquery","_useState7","_useState8","loading","setloading","handleSearch","e","target","value","searchQuery","preventDefault","getNews","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","data","wrap","_callee$","_context","prev","next","concat","category","fetch","sent","json","t0","console","log","stop","apply","arguments","children","className","role","onSubmit","type","placeholder","onChange","map","article","index","title","urlToImage","description"],"sources":["C:/Users/P.R.Sheba sulthana/Downloads/TechLens/News-App/client/src/components/News.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport NewsCard from './NewsCard';\r\n\r\nfunction News(props) {\r\n  const [articles, setArticles] = useState([]);\r\n\r\n  let [search, setsearch] = useState(\"\");\r\n  let [query, setquery] = useState(null);\r\n\r\n  const [loading, setloading] = useState(true);\r\n\r\n  const handleSearch = (e) => {\r\n    search = e.target.value\r\n    setsearch(search);\r\n  }\r\n\r\n  const searchQuery = (e) => {\r\n    e.preventDefault();\r\n    query = search;\r\n    setquery(query);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const getNews = async () => {\r\n      let url = `https://newsapi.org/v2/everything?q=${query || props.category}&apiKey=330e87d7b7a04229acbf2a4de862c4e0`;\r\n      try {\r\n        setloading(true);\r\n        const response = await fetch(url);\r\n        const data = await response.json();\r\n        setArticles(data.articles);\r\n        setloading(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n    getNews();\r\n  }, [query, props.category]);\r\n  return (\r\n    <>\r\n      <h1 className=\"news-title text-center mt-4\">Top Stories</h1>\r\n      <div className=\"container my-3\">\r\n        <form className=\"d-flex\" role=\"search\" onSubmit={searchQuery}>\r\n          <input className=\"form-control me-2\" type=\"search\" placeholder=\"Search latest topics\" aria-label=\"Search\" value={search} onChange={handleSearch} />\r\n          <button className=\"btn btn-outline-success\" type=\"submit\">Search</button>\r\n        </form>\r\n      </div>\r\n      <div className=\"container-fluid mt-5 flex-wrap d-flex justify-content-evenly\">\r\n        {loading ? (\r\n          <div className=\"spinner-border text-primary\" role=\"status\">\r\n            <span className=\"visually-hidden\">Loading...</span>\r\n          </div>\r\n        ) : (\r\n          articles.map((article, index) => (\r\n            <NewsCard\r\n              key={index}\r\n              title={article.title}\r\n              urlToImage={article.urlToImage}\r\n              url={article.url}\r\n              description={article.description}\r\n            />\r\n          ))\r\n        )}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default News;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}