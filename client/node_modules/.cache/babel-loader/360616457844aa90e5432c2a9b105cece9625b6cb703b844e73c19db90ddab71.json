{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/P.R.Sheba sulthana/Downloads/TechLens/News-App/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/P.R.Sheba sulthana/Downloads/TechLens/News-App/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/P.R.Sheba sulthana/Downloads/TechLens/News-App/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useContext,useState}from'react';import{useNavigate}from'react-router-dom';import{UserContext}from'../App';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setemail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setpassword=_useState4[1];// let name, value;\nvar handleEmail=function handleEmail(e){email=e.target.value;setemail(email);};function handlePassword(event){password=event.target.value;setpassword(password);}var loginUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var data,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;e.preventDefault();_context.next=4;return fetch('/login',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})});case 4:data=_context.sent;_context.next=7;return data.json();case 7:response=_context.sent;if(response){navigate('/profile');dispatch({type:\"USER\",payload:true});}else if(data.status===404||!response||data.status===400){window.alert(\"Invalid Credentials\");}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);window.alert('User not found');case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function loginUser(_x){return _ref.apply(this,arguments);};}();var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showPassword=_useState6[0],setShowPassword=_useState6[1];var handleShowPassword=function handleShowPassword(){setShowPassword(!showPassword);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mt-5\",children:\"LOGIN TO YOUR ACCOUNT\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-4 mt-5 shadow-lg container\",children:/*#__PURE__*/_jsx(\"form\",{method:\"post\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"emailLogin\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"emailLogin\",placeholder:\"name@example.com\",value:email,onChange:handleEmail,name:\"email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"passwordLogin\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?\"text\":\"password\",className:\"form-control\",id:\"passwordLogin\",placeholder:\"Password\",value:password,onChange:handlePassword,name:\"password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:handleShowPassword,children:showPassword?\"Hide\":\"Show\"})})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:loginUser,children:\"Login\"})]})})})]});}export default Login;","map":{"version":3,"names":["React","useContext","useState","useNavigate","UserContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_useContext","state","dispatch","navigate","_useState","_useState2","_slicedToArray","email","setemail","_useState3","_useState4","password","setpassword","handleEmail","e","target","value","handlePassword","event","loginUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","response","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","sent","json","type","payload","status","window","alert","t0","stop","_x","apply","arguments","_useState5","_useState6","showPassword","setShowPassword","handleShowPassword","children","className","htmlFor","id","placeholder","onChange","name","onClick"],"sources":["C:/Users/P.R.Sheba sulthana/Downloads/TechLens/News-App/client/src/components/Login.js"],"sourcesContent":["import { React, useContext, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { UserContext } from '../App';\r\n\r\nfunction Login() {\r\n\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const navigate = useNavigate();\r\n\r\n    let [email, setemail] = useState(\"\")\r\n    let [password, setpassword] = useState(\"\")\r\n\r\n    // let name, value;\r\n    const handleEmail = (e) => {\r\n        email = e.target.value;\r\n        setemail(email);\r\n    }\r\n\r\n    function handlePassword(event) {\r\n        password = event.target.value;\r\n        setpassword(password);\r\n    }\r\n\r\n    const loginUser = async (e) => {\r\n        try {\r\n            e.preventDefault();\r\n            const data = await fetch('/login', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    email: email, password: password\r\n                })\r\n            });\r\n\r\n            const response = await data.json();\r\n\r\n            if (response) {\r\n                navigate('/profile');\r\n                dispatch({ type: \"USER\", payload: true })\r\n            }\r\n            else if (data.status === 404 || !response || data.status === 400) {\r\n                window.alert(\"Invalid Credentials\");\r\n            }\r\n\r\n        } catch (error) {\r\n            window.alert('User not found');\r\n        }\r\n    }\r\n\r\n    const [showPassword, setShowPassword] = useState(false);\r\n\r\n    const handleShowPassword = () => {\r\n        setShowPassword(!showPassword);\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"text-center mt-5\">LOGIN TO YOUR ACCOUNT</h1>\r\n            <div className=\"card p-4 mt-5 shadow-lg container\">\r\n                <form method=\"post\">\r\n                    <div className=\"modal-body\">\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"emailLogin\" className=\"form-label\">Email address</label>\r\n                            <input type=\"email\" className=\"form-control\" id=\"emailLogin\" placeholder=\"name@example.com\" value={email} onChange={handleEmail} name=\"email\" />\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"passwordLogin\" className=\"form-label\">Password</label>\r\n                            <div className=\"input-group\">\r\n                                <input\r\n                                    type={showPassword ? \"text\" : \"password\"}\r\n                                    className=\"form-control\"\r\n                                    id=\"passwordLogin\"\r\n                                    placeholder=\"Password\"\r\n                                    value={password}\r\n                                    onChange={handlePassword}\r\n                                    name=\"password\"\r\n                                />\r\n                                <div className=\"input-group-append\">\r\n                                    <button\r\n                                        className=\"btn btn-outline-secondary\"\r\n                                        type=\"button\"\r\n                                        onClick={handleShowPassword}\r\n                                    >\r\n                                        {showPassword ? \"Hide\" : \"Show\"}\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={loginUser}>Login</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}